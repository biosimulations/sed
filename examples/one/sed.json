{
  "inputs": {
    "models": {
      "model1": {
        "location": "example1.xml",
        "language": "urn:sedml:language:sbml"
      }
    },
    "data": {
      "experiment1": {
        "location": "experimental_data.csv",
        "format": "http://purl.org/NET/mediatypes/text/csv",
        "parameters": {
          "organization": "column-based",
          "ncols": 3,
          "nrows": 52,
          "units": [
            "seconds",
            "mMol",
            "mMol"
          ]
        }
      }
    }
  },
  "tasks": {
    "sim1": {
      "_type": "uniformTimeCourse",
      "model": "#inputs:models:model1",
      "initialTime": 0,
      "timeRange": {
        "start": 0,
        "end": 20,
        "numberOfSteps": 50
      },
      "outputVariables": [
        "time",
        "S1",
        "S2"
      ]
    },
    "sim2": {
      "_type": "uniformTimeCourse",
      "model": "#inputs:models:model1",
      "initialTime": 0,
      "timeRange": {
        "start": 0,
        "end": 20,
        "numberOfSteps": 50
      },
      "outputVariables": [
        "time",
        "S1",
        "S2"
      ]
    },
    "sim1_sim2_compare": {
      "_type": "calculation",
      "math": "(#tasks:sim1 - #tasks:sim2)^2"
    },
    "sim1_exp_compare": {
      "_type": "calculation",
      "math": "(#tasks:sim1 - #data:experiment1)^2"
    },
    "sim2_exp_compare": {
      "_type": "calculation",
      "math": "(#tasks:sim2 - #data:experiment1)^2"
    },
    "compare_summary": {
      "_type": "calculation",
      "math": "[sum(#tasks:sim1_sim2_compare), sum(#tasks:sim1_exp_compare), sum(#tasks:sim2_exp_compare)]"
    },
    "simcompare_v2": {
      "_type": "sumOfSquares",
      "inputs": [
        "#tasks:sim1",
        "#tasks:sim2",
        "#data:experiment1"
      ]
    }
  },
  "outputs": {
    "reports": {
      "sim1Report": {
        "dataSets": "tasks:sim1",
        "filename": "sim1.csv",
        "file_format": "http://purl.org/NET/mediatypes/text/csv"
      },
      "sim2Report": {
        "dataSets": "tasks:sim2",
        "filename": "sim2.csv",
        "file_format": "http://purl.org/NET/mediatypes/text/csv"
      },
      "comparisonReport": {
        "dataSets": {
          "time": "tasks:sim1['time']",
          "S1_ssq_sim1sim2": "tasks:sim1_sim2_compare['S1']",
          "S1_ssq_sim1exp": "tasks:sim1_exp_compare['S1']",
          "S1_ssq_sim2exp": "tasks:sim2_exp_compare['S1']",
          "S2_ssq_sim1sim2": "tasks:sim1_sim2_compare['S2']",
          "S2_ssq_sim1exp": "tasks:sim1_exp_compare['S2']",
          "S2_ssq_sim2exp": "tasks:sim2_exp_compare['S2']"
        },
        "filename": "all_comparisons.csv",
        "file_format": "http://purl.org/NET/mediatypes/text/csv"
      },
      "comparisonSummary": {
        "dataSets": "tasks:compare_summary"
      }
    },
    "plots": {
      "Fig1": {
        "_type": "plot2D",
        "label": "Figure 1",
        "xAxis": {
          "label": "Time"
        },
        "yAxis": {
          "label": "Concentrations"
        },
        "curves": {
          "Sim1_S1": {
            "x": "tasks:sim1['time']",
            "y": "tasks:sim1['S1']"
          },
          "Sim1_S2": {
            "x": "tasks:sim1['time']",
            "y": "tasks:sim1:['S2']"
          },
          "Sim2_S1": {
            "x": "tasks:sim1['time']",
            "y": "tasks:sim2['S1']"
          },
          "Sim2_S2": {
            "x": "tasks:sim1['time']",
            "y": "tasks:sim2:['S2']"
          },
          "S1_data": {
            "x": "experiment1['time']",
            "y": "experiment1['S1']",
            "style": "points_only"
          },
          "S2_data": {
            "x": "experiment1['time']",
            "y": "experiment1['S2']",
            "style": "points_only"
          }
        }
      }
    },
    "styles": {
      "points_only": {
        "line": false,
        "markers": true
      }
    }
  }
}
