{
  "inputs": {
    "models": {
      "fba_model": {
        "location": "./mod1_fba.xml",
        "language": "urn:sedml:language:sbml"
      },
      "ode_model": {
        "location": "./mod1_ode.xml",
        "language": "urn:sedml:language:sbml"
      }
    }
  },
  "processes": {
    "cosimulator": {
      "_type": "cosimulation",
      "simulations": [
        "ode",
        "fba"
      ],
      "updates": [
        "update_from_fba",
        "update_from_ode"
      ],
      "loop_variable": "time",
      "range": {
        "start": 0.0,
        "interval": 1.0,
        "numberOfSteps": 50
      },
      "outputLabels": [
        "time",
        "S1",
        "S2",
        "S3",
        "J0",
        "J1",
        "J2"
      ],
      "outputSources": [
        "time",
        "ode:model['S1']",
        "ode:model['S2']",
        "ode:model['S3']",
        "fba:model['J0']",
        "fba:model['J1']",
        "fba:model['J2']"
      ],
      "notes": "Can't use outputVariables in ode/fba, and reference them with ode['S1'], because nothing outputs t0.  Instead, we have to directly check model variables with ode:model['var']."
    },
    "ode": {
      "_type": "oneStep",
      "initialModel": "model1",
      "initialTime": "processes:cosimulator:loop_value",
      "step": "processes:cosimulator:range:interval",
      "outputVariables": [],
      "outputModel": "true"
    },
    "fba": {
      "_type": "fluxBalanceAnalysis",
      "model": "processes:paramScan_k2:models",
      "outputVariables": [],
      "outputModel": "true"
    },
    "update_from_ode": {
      "_type": "modelUpdate",
      "model": "processes:fba:model",
      "changes": {
        "S1": {
          "_type": "change_value",
          "identifier": "S1",
          "value": "processes:ode:model['S1']"
        },
        "S2": {
          "_type": "change_value",
          "identifier": "S2",
          "value": "processes:ode:model['S2']"
        },
        "S3": {
          "_type": "change_value",
          "identifier": "S3",
          "value": "processes:ode:model['S3']"
        }
      }
    },
    "update_from_fba": {
      "_type": "modelUpdate",
      "model": "processes:ode:model",
      "changes": {
        "J0": {
          "_type": "change_value",
          "identifier": "J0",
          "value": "processes:fba:model['J0']"
        },
        "J1": {
          "_type": "change_value",
          "identifier": "J1",
          "value": "processes:fba:model['J1']"
        },
        "J2": {
          "_type": "change_value",
          "identifier": "J2",
          "value": "processes:fba:model['J2']"
        }
      }
    }
  },
  "outputs": {
    "reports": {
      "cosim_out": {
        "outputs": "processes:cosimulator",
        "filename": "cosimulation.csv",
        "file_format": "http://purl.org/NET/mediatypes/text/csv"
      }
    },
    "plots": {
      "Fig1": {
        "_type": "Plot2D",
        "label": "Figure 1",
        "xAxis": {
          "label": "Time"
        },
        "yAxis": {
          "label": "Concentrations"
        },
        "curves": {
          "S1": {
            "x": "processes:cosimulator['time']",
            "y": "processes:cosimulator['S1']"
          },
          "S2": {
            "x": "processes:cosimulator['time']",
            "y": "processes:cosimulator:['S2']"
          },
          "S3": {
            "x": "processes:cosimulator['time']",
            "y": "processes:cosimulator:['S3']"
          },
          "J0": {
            "x": "processes:cosimulator['time']",
            "y": "processes:cosimulator:['J0']"
          },
          "J1": {
            "x": "processes:cosimulator['time']",
            "y": "processes:cosimulator:['J1']"
          },
          "J2": {
            "x": "processes:cosimulator['time']",
            "y": "processes:cosimulator:['J2']"
          }
        }
      }
    }
  }
}
